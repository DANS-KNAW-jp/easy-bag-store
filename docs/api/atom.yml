components:
  schemas:

    AtomTitle:
      type: string
      xml:
        wrapped: true
        namespace: 'http://www.w3.org/2005/Atom'
        prefix: atom

    ServiceDocument:
      type: object
      properties:
        workspace:
          $ref: '#/components/schemas/Workspace'
      example:
        workspace:
          title: My workspace
          collections:
            - href: 'http://test.dans.knaw.nl/stores'
              title: bag-stores
            - href: 'http://test.dans.knaw.nl/bags'
              title: bags
      xml:
        wrapped: true
        namespace: 'http://www.w3.org/2007/app'
        name: service

    Workspace:
      type: object
      properties:
        title:
          $ref: '#/components/schemas/AtomTitle'
        collections:
          type: array
          items:
            $ref: '#/components/schemas/Collection'

    Collection:
      type: object
      properties:
        href:
          $ref: '#/components/schemas/Href'
        title:
          $ref: '#/components/schemas/AtomTitle'
      xml:
        name: collection

    Href:
      type: string
      xml:
        attribute: true

    StoresFeed:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        link:
          $ref: '#/components/schemas/Link'
      example:
        id: bag-store
        title: Bag Store Service
        link:
          rel: self
          href: 'http://example.bagstore.org/'
          type: 'application/atom+xml;type=feed'
      xml:
        wrapped: true
        namespace: 'http://www.w3.org/2005/Atom'
        name: feed

    DirectoryFeed:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        link:
          $ref: '#/components/schemas/Link'
      example:
        id: "73e5ac5d-205f-49c0-9a46-8e4eb7462654"
        title: 'Bag: 73e5ac5d-205f-49c0-9a46-8e4eb7462654'
        link:
          rel: self
          href: >-
            "http://datavault.dans.knaw.nl/ark:/73e5ac5d-205f-49c0-9a46-8e4eb7462654"
          type: "application/atom+xml;type=feed"
      xml:
        wrapped: true
        namespace: 'http://www.w3.org/2005/Atom'
        name: feed

    Link:
      type: object
      properties:
        rel:
          type: string
          xml:
            attribute: true
        href:
          type: string
          xml:
            attribute: true
        type:
          type: string
          xml:
            attribute: true
